<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">
      <ion-icon name="scan-outline" slot="start"></ion-icon> Escáner QR
    </ion-title>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="section-header">
    <ion-text color="secondary">
      <h2 style="text-align: center;">
        <ion-icon name="qr-code-outline" size="large"></ion-icon> Scanner
      </h2>
    </ion-text>
    <p style="text-align: center; color: var(--ion-color-medium);">
      Usa el escáner para registrar las asistencias escaneando el código QR.
    </p>
  </div>

  <ion-card style="margin: 20px auto; max-width: 500px;">
    <ion-card-header>
      <ion-card-title style="text-align: center; font-size: 1.2rem;">
        <ion-icon name="camera-outline" slot="start"></ion-icon> Escáner Activo
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div id="reader" style="width: 100%; height: 300px; margin: 0 auto; border: 1px solid var(--ion-color-light); border-radius: 10px;"></div>
    </ion-card-content>
  </ion-card>

  <!-- Botón para activar el escáner manualmente -->
  <ion-button expand="full" color="secondary" (click)="scanQRCode()">Escanear QR</ion-button>

  <!-- Mensaje de estado -->
  <ion-card *ngIf="qrEscaneado" style="margin: 20px auto; max-width: 500px;">
    <ion-card-header>
      <ion-card-title style="text-align: center;">
        <ion-icon name="information-circle-outline" slot="start"></ion-icon> Estado
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-text color="primary">
        <p style="text-align: center; font-size: 1.2rem;">¡Asistencia registrada!</p>
      </ion-text>
    </ion-card-content>
  </ion-card>

</ion-content>
